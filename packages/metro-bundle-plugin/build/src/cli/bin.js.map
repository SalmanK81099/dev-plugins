{"version":3,"file":"bin.js","sourceRoot":"","sources":["../../../src/cli/bin.ts"],"names":[],"mappings":";AAEA,MAAM,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;AAC7B,MAAM,EAAE,oBAAoB,EAAE,GAAG,OAAO,CAAC,8BAA8B,CAAC,CAAC;AAEzE,MAAM,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC;AACnC,MAAM,WAAW,GAAG,OAAO,CAAC,aAAa,CAAC,CAAC;AAC3C,MAAM,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AAEjC,MAAM,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,aAAa,CAAC,CAAA;AACzD,MAAM,gBAAgB,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,aAAa,CAAC,CAAC;AAC9D,MAAM,gBAAgB,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,aAAa,CAAC,CAAC;AAE9D,MAAM,GAAG,GAAG,OAAO,EAAE,CAAC;AAEtB,GAAG,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC,CAAC;AAEvB,wGAAwG;AACxG,GAAG,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;AAE5B,OAAO,CAAC,GAAG,CAAC,QAAQ,GAAG,YAAY,CAAC;AAEpC,GAAG,CAAC,GAAG,CACL,OAAO,CAAC,MAAM,CAAC,gBAAgB,EAAE;IAC/B,MAAM,EAAE,IAAI;IACZ,UAAU,EAAE,CAAC,MAAM,CAAC;CACrB,CAAC,CACH,CAAC;AAEF,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;AAExB,GAAG,CAAC,GAAG,CACL,GAAG,EACH,oBAAoB,CAAC;IACnB,KAAK,EAAE,gBAAgB;CACxB,CAAC,CACH,CAAC;AACF,MAAM,IAAI,GAAG,OAAO,CAAC,GAAG,CAAC,IAAI,IAAI,IAAI,CAAC;AAEtC,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,EAAE;IACpB,OAAO,CAAC,GAAG,CAAC,oCAAoC,IAAI,EAAE,CAAC,CAAC;AAC1D,CAAC,CAAC,CAAC","sourcesContent":["#!/usr/bin/env node\n\nconst path = require('path');\nconst { createRequestHandler } = require('@expo/server/adapter/express');\n\nconst express = require('express');\nconst compression = require('compression');\nconst morgan = require('morgan');\n\nconst WEBUI_ROOT = path.resolve(__dirname, '../../webui')\nconst CLIENT_BUILD_DIR = path.join(WEBUI_ROOT, 'dist/client');\nconst SERVER_BUILD_DIR = path.join(WEBUI_ROOT, 'dist/server');\n\nconst app = express();\n\napp.use(compression());\n\n// http://expressjs.com/en/advanced/best-practice-security.html#at-a-minimum-disable-x-powered-by-header\napp.disable('x-powered-by');\n\nprocess.env.NODE_ENV = 'production';\n\napp.use(\n  express.static(CLIENT_BUILD_DIR, {\n    maxAge: '1h',\n    extensions: ['html'],\n  })\n);\n\napp.use(morgan('tiny'));\n\napp.all(\n  '*',\n  createRequestHandler({\n    build: SERVER_BUILD_DIR,\n  })\n);\nconst port = process.env.PORT || 3000;\n\napp.listen(port, () => {\n  console.log(`Express server listening on port ${port}`);\n});\n"]}